{"version":3,"sources":["webpack:///webpack/bootstrap 5858576ef870f536b28d","webpack:///external \"lodash\"","webpack:///./src/services/preferences.service.ts","webpack:///./src/sialia.ts","webpack:///external \"riot\"","webpack:///./src/services/index.ts","webpack:///./src/models/index.ts","webpack:///./src/models/document.ts","webpack:///./src/models/section.ts","webpack:///./src/models/vieweroptions.ts","webpack:///./src/models/preferences.ts","webpack:///./src/services/documents.service.ts","webpack:///external \"jquery\"","webpack:///external \"bluebutton\"","webpack:///./src/config.ts"],"names":[],"mappings":"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","file":"sialia.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\t(function (module) {\n \t\t  if (module.exports\n \t\t    && !module.exports.__esModule\n \t\t    && module.exports.default === undefined\n \t\t  ) {\n \t\t    if (module.exports.headers\n \t\t      && module.exports.headers.common\n \t\t      && module.exports.headers.common.Accept\n \t\t      && module.exports.adapter\n \t\t      && module.exports.transformRequest\n \t\t      && module.exports.transformResponse\n \t\t    ) {\n \t\t      return;\n \t\t    }\n \t\t    module.exports.default = module.exports;\n \t\t  }\n \t\t})(module);\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5858576ef870f536b28d","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 0\n// module chunks = 0","import { ViewerOptions, Section, Preferences, DocType } from '../models';\nimport _ from 'lodash';\n\nexport class PreferencesService  {\n\n    save(opts: ViewerOptions): void {\n\n        let enabled = _.filter(opts.sections, (item) => {\n            return item.enabled;\n        });\n\n        let sortOrder = _.map(opts.sections, (item) => {\n            return item.key;\n        });\n\n        let pref = this.getPreferences(opts.pref.type);\n        pref.enabledSectionKeys = _.map(enabled, (item) => {\n           return item.key;\n        });\n        pref.sortedSectionKeys = sortOrder;\n        pref.isSet = true;\n\n        let storageId = 'doc_' + opts.pref.type.templateId;\n        localStorage.setItem(storageId, JSON.stringify(pref));\n\n    }\n\n    getPreferences(docType: DocType): Preferences {\n\n        let id = docType.templateId,\n            storageId = 'doc_' + id,\n            prefString = localStorage.getItem(storageId),\n            pref = JSON.parse(prefString),\n            isSet = pref !== null;\n\n        if (!isSet) {\n            pref = {\n                id: id,\n                isSet: isSet,\n                type: docType,\n                enabledSectionKeys: null,\n                sortedSectionKeys: null\n            };\n        }\n\n        return new Preferences(pref);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/services/preferences.service.ts","import riot from 'riot';\nimport { DocumentsService } from './services';\n\nexport class Sialia {\n\n  service: DocumentsService = new DocumentsService();\n\n  constructor(options: any) {\n\n    let documents = options.docs;\n\n    this.service.fetch(documents[0].Url).then((options) => {\n      options.documents = documents;\n      riot.mount('sialia', options);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/sialia.ts","module.exports = require(\"riot\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"riot\"\n// module id = 3\n// module chunks = 0","export * from './preferences.service';\nexport * from './documents.service';\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/services/index.ts","export * from './document';\nexport * from './section';\nexport * from './vieweroptions';\nexport * from './preferences';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/index.ts","export class Document {\n  name: string;\n  url: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/document.ts","import _ from 'lodash';\n\nexport interface Section {\n  key: string;\n  display: string;\n  tagName: string;\n  icon: string;\n  sort?: number;\n  enabled?: boolean;\n}\n\nexport function updateSortOrder(sections: Section[]): Section[] {\n  _.each(sections, (v, k) => {\n    v.sort = k;\n  });\n  return sections;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/section.ts","import { Section } from './section';\nimport { Preferences } from './preferences';\nimport { DocumentsService } from '../services';\n\nexport class ViewerOptions {\n  sections: Section[];\n  data: any;\n  pref: Preferences;\n  documents?: any[];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/vieweroptions.ts","import _ from 'lodash';\n\nexport interface DocType {\n  displayName: string;\n  loinc: string;\n  rootTemplateId: string;\n  templateId: string;\n  type: string;\n}\n\nexport interface IPreferences {\n  id: string;\n  type: DocType;\n  enabledSectionKeys: string[];\n  sortedSectionKeys: string[];\n  isSet: boolean;\n}\n\nexport class Preferences {\n  id: string;\n  type: DocType;\n  enabledSectionKeys: string[];\n  sortedSectionKeys: string[];\n  isSet: boolean;\n\n  constructor(pref: IPreferences) {\n    this.id = pref.id;\n    this.type = pref.type;\n    this.enabledSectionKeys = pref.enabledSectionKeys || [];\n    this.sortedSectionKeys = pref.sortedSectionKeys || [];\n    this.isSet = pref.isSet;\n  }\n\n  isSectionEnabled(key: string): boolean {\n    return _.some(this.enabledSectionKeys, (k) => {\n      return k === key;\n    });\n  }\n\n  indexOfSection(key: string): number {\n    return this.sortedSectionKeys.indexOf(key);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/models/preferences.ts","import $ from 'jquery';\nimport _ from 'lodash';\nimport { bluebutton } from 'bluebutton';\nimport { Section, ViewerOptions, Preferences } from '../models';\nimport { SECTIONS, IGNORE_SECTIONS } from '../config';\nimport { PreferencesService } from './preferences.service';\n\nlet viewer: any;\n\nexport class DocumentsService {\n\n  getSections(bb: any, sections: Section[], ignoreSections: string[], pref: Preferences): Section[] {\n\n    let allSections = [];\n    _.each(bb.data, (val, key) => {\n      if (_.includes(ignoreSections, key)) return;\n      let match = _.find(sections, s => s.key === key);\n      if (match) {\n        match.sort = pref.indexOfSection(key);\n        allSections.push(match);\n      }\n      else allSections.push({\n        key: key,\n        display: val.displayName || key,\n        tagName: 'generic',\n        icon: 'asterisk',\n        sort: pref.indexOfSection(key)\n      });\n    });\n\n    // sort by name first, then by sort order\n    allSections = _.sortBy(allSections, s => s.display.toLowerCase());\n    allSections = _.sortBy(allSections, s => s.sort);\n\n    // init sort and enabled\n    _.each(allSections, (val, index) => {\n      val.enabled = pref.isSectionEnabled(val.key);\n    });\n\n    return allSections;\n  }\n\n  fetch(url: string): Promise<ViewerOptions> {\n    return new Promise((resolve) => {\n      $.get(url, (content) => {\n        resolve(this.load(content));\n      }, 'text');\n    });\n  }\n\n  load(data: any): ViewerOptions {\n    let bb = bluebutton(data);\n    if (!bb.data) throw 'BlueButton could not parse the file.';\n\n    let pref = new PreferencesService().getPreferences(bb.data.document.type);\n\n    return {\n      sections: this.getSections(bb, SECTIONS, IGNORE_SECTIONS, pref),\n      data: bb.data,\n      pref: pref,\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/services/documents.service.ts","module.exports = require(\"jquery\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jquery\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"bluebutton\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebutton\"\n// module id = 12\n// module chunks = 0","import _ from 'lodash';\nimport { Section, Document } from './models';\n\nexport const SECTIONS: Section[] = [\n  { key: 'allergies', display: 'Allergies', tagName: 'allergies', icon: 'pagelines' },\n  { key: 'care_plan', display: 'Care Plan', tagName: 'generic', icon: 'sticky-note-o' },\n  { key: 'chief_complaint', display: 'Chief Complaint', tagName: 'generic', icon: 'bullhorn' },\n  { key: 'encounters', display: 'Encounters', tagName: 'generic', icon: 'stethoscope' },\n  { key: 'functional_statuses', display: 'Functional Status', tagName: 'generic', icon: 'wheelchair' },\n  { key: 'immunization_declines', display: 'Declined Immunizations', tagName: 'generic', icon: 'ban' },\n  { key: 'immunizations', display: 'Immunization', tagName: 'generic', icon: 'eyedropper' },\n  { key: 'instructions', display: 'Patient Instructions', tagName: 'generic', icon: 'user-md' },\n  { key: 'medications', display: 'Medications', tagName: 'medications', icon: 'medkit' },\n  { key: 'problems', display: 'Problems', tagName: 'generic', icon: 'exclamation-triangle' },\n  { key: 'procedures', display: 'Procedures', tagName: 'generic', icon: 'hospital-o' },\n  { key: 'results', display: 'Results', tagName: 'generic', icon: 'flask' },\n  { key: 'smoking_status', display: 'Smoking Status', tagName: 'generic', icon: 'fire' },\n  { key: 'vitals', display: 'Vitals', tagName: 'generic', icon: 'heartbeat' },\n];\n\nexport const IGNORE_SECTIONS: string[] = ['document', 'demographics', 'json'];\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/config.ts"],"sourceRoot":""}